var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,c=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&a(e,n,t[n]);if(r)for(var n of r(t))i.call(t,n)&&a(e,n,t[n]);return e},l=(e,r)=>t(e,n(r));"undefined"!=typeof require&&require;import{a as s,R as u,r as m,l as p,j as d,u as f,S as E,b as g,c as y}from"./vendor.a25fbad5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const h=u.createContext({municipios:[],setMunicipios:e=>null});function v({children:e}){const[t,n]=m.exports.useState([]);return m.exports.useEffect((()=>{p.getItem("municipios").then((e=>{null===e||0===e.length?async function(){return await s.get("municipios").then((e=>e.data)).then((e=>e.map((e=>l(c({},e),{CODIGOINE:e.CODIGOINE.substr(0,5)})))))}().then((async e=>await p.setItem("municipios",e))).then((e=>n(e))).catch((e=>console.error(e))):n(e)})).catch((e=>console.error(e)))}),[]),u.createElement(h.Provider,{value:{municipios:t,setMunicipios:n}},e)}const x=u.createContext({municipiosGuardados:[],guardarMunicipios:e=>null});function b({children:e}){const[t,n]=m.exports.useState([]);return m.exports.useEffect((()=>{p.setItem("municipiosGuardados",t).catch((e=>console.error(e)))}),[t]),u.createElement(x.Provider,{value:{municipiosGuardados:t,guardarMunicipios:n}},e)}function O(){const{municipios:e}=m.exports.useContext(h),t=m.exports.useCallback((t=>e.find((e=>e.CODIGOINE===t))),[e]);return{municipios:e,findMunicipio:t}}function _(e){const{findMunicipio:t}=O(),n=t(e),[r,o]=m.exports.useState(!1),[i,a]=m.exports.useState(null);return m.exports.useEffect((()=>{void 0!==n&&(o(!0),async function(e,t){return await s.get(`provincias/${e}/municipios/${t}`).then((e=>e.data))}(n.CODPROV,n.CODIGOINE).then((e=>a(e))).finally((()=>o(!1))))}),[e]),{tiempo:i,loading:r}}function C(e){const{tiempo:t}=_(e.id);return u.createElement(u.Fragment,null,u.createElement("pre",null,u.createElement("code",null,JSON.stringify(t,null,2))))}var w="_video_159ao_1",I="_indexContainer_159ao_10";var N="_autoCompleteBox_88xk8_1",k="_autocompleteWrapper_88xk8_8",D="_item_88xk8_10",M="_itemLink_88xk8_16";var S="_input_1fam9_1";function L(e){var t;return u.createElement(u.Fragment,null,u.createElement("input",l(c({},e),{className:`${S} ${null!=(t=e.className)?t:""}`})))}function G(e){const[t,n]=m.exports.useState([]),[r,o]=m.exports.useState(""),[i,a]=m.exports.useState(null),c=m.exports.useRef([]),l=m.exports.useCallback(d((e=>o(e)),500),[o]),s=e=>{if("ArrowDown"!==e.key&&"ArrowUp"!==e.key)return;console.log(e);const t=null===i?0:c.current.indexOf(i);let n;if("ArrowDown"===e.key){const e=t+1===c.current.length?0:t+1;n=c.current[e]}else{const e=t-1<0?c.current.length-1:t-1;n=c.current[e]}a(n),n.focus()};return m.exports.useEffect((()=>{var t;return n(e.items.filter((e=>e.label.toLocaleLowerCase().includes(r.toLocaleLowerCase()))).slice(0,null!=(t=e.limit)?t:50))}),[r]),u.createElement(u.Fragment,null,u.createElement("div",{className:k},u.createElement(L,{onFocus:()=>a(null),onChange:e=>l(e.target.value),onKeyDown:e=>s(e)}),u.createElement("ul",{className:N},t.map((t=>u.createElement("li",{key:t.id,className:D},u.createElement("a",{onClick:n=>{n.preventDefault(),e.onClickItem(t),a(n.currentTarget)},onKeyDown:e=>s(e),ref:e=>null!==e?c.current.push(e):null,className:M},t.label)))))))}function P(){const{municipios:e}=O(),[,t]=f(),{guardarMunicipios:n}=function(){const{guardarMunicipios:e,municipiosGuardados:t}=m.exports.useContext(x);return{municipiosGuardados:t,guardarMunicipios:e}}();return u.createElement(u.Fragment,null,u.createElement("div",{className:I},u.createElement(G,{limit:10,placeholder:"Localidad",items:e.map((e=>({id:e.CODIGOINE,label:e.NOMBRE,value:e}))),onClickItem:e=>{n([e.value]),t(`/t/${e.id}`)}}),u.createElement("video",{autoPlay:!0,className:w,loop:!0},u.createElement("source",{src:"https://weather.asanchis.dev/assets/video.a0c259db.webm"}))))}function j(){return u.createElement(u.Fragment,null,u.createElement(E,null,u.createElement(g,{path:"/",component:P}),u.createElement(g,{path:"/t/:id"},(e=>u.createElement(C,{id:e.id})))))}s.defaults.baseURL={}.VITE_ApiBaseUrl,y.render(u.createElement(u.StrictMode,null,u.createElement(v,null,u.createElement(b,null,u.createElement(j,null)))),document.getElementById("root"));
